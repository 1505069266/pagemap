/*! pagemap v0.5.0 - https://larsjung.de/pagemap/ */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.pagemap=e():t.pagemap=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){(function(e){"use strict";var n=e.window,r=n.document,o=r.documentElement,i=r.querySelector("body"),c=function(t){return"rgba(0,0,0,"+t/100+")"},u={viewport:null,styles:{"header,footer,section,article":c(8),"h1,a":c(10),"h2,h3,h4":c(8)},back:c(2),view:c(5),drag:c(10),interval:null},l=function(t,e,n,r){return n.split(/\s+/).forEach(function(n){return t[e](n,r)})},f=function(t,e,n){return l(t,"addEventListener",e,n)},s=function(t,e,n){return l(t,"removeEventListener",e,n)},a=function(t,e,n,r){return{x:t,y:e,w:n,h:r}},h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};return a(t.x-e.x,t.y-e.y,t.w,t.h)},p=function(){return a(0,0,o.scrollWidth,o.scrollHeight)},d=function(){return a(n.pageXOffset,n.pageYOffset,o.clientWidth,o.clientHeight)},v=function(t){var e=t.getBoundingClientRect();return{x:e.left+n.pageXOffset,y:e.top+n.pageYOffset}},y=function(t){var e=v(t),n=e.x,r=e.y;return a(n,r,t.offsetWidth,t.offsetHeight)},g=function(t){var e=v(t),n=e.x,r=e.y;return a(n+t.clientLeft,r+t.clientTop,t.clientWidth,t.clientHeight)},x=function(t){var e=v(t),n=e.x,r=e.y;return a(n+t.clientLeft-t.scrollLeft,r+t.clientTop-t.scrollTop,t.scrollWidth,t.scrollHeight)};t.exports=function(t,e){var o=Object.assign({},u,e),c=t.getContext("2d"),l=function(){var e=t.clientWidth,n=t.clientHeight;return function(t,r){return Math.min(e/t,n/r)}}(),a=function(e,n){t.width=e,t.height=n,t.style.width=e+"px",t.style.height=n+"px"},v=o.viewport,m=function(t){return Array.from((v||r).querySelectorAll(t))},w=!1,b=void 0,E=void 0,H=void 0,L=void 0,O=void 0,T=function(t,e){e&&(c.beginPath(),c.rect(t.x,t.y,t.w,t.h),c.fillStyle=e,c.fill())},W=function(t){Object.keys(t).forEach(function(e){var n=t[e];m(e).forEach(function(t){T(h(y(t),b),n)})})},j=function(){b=v?x(v):p(),E=v?g(v):d(),H=l(b.w,b.h),a(b.w*H,b.h*H),c.setTransform(1,0,0,1,0,0),c.clearRect(0,0,t.width,t.height),c.scale(H,H),T(h(b,b),o.back),W(o.styles),T(h(E,b),w?o.drag:o.view)},X=function(e){e.preventDefault();var r=g(t),o=(e.pageX-r.x)/H-E.w*L,i=(e.pageY-r.y)/H-E.h*O;v?(v.scrollLeft=o,v.scrollTop=i):n.scrollTo(o,i),j()},Y=function e(r){w=!1,t.style.cursor="pointer",i.style.cursor="auto",s(n,"mousemove",X),s(n,"mouseup",e),X(r)},k=function(e){w=!0;var r=g(t),o=h(E,b);L=((e.pageX-r.x)/H-o.x)/o.w,O=((e.pageY-r.y)/H-o.y)/o.h,(L<0||L>1||O<0||O>1)&&(L=.5,O=.5),t.style.cursor="crosshair",i.style.cursor="crosshair",f(n,"mousemove",X),f(n,"mouseup",Y),X(e)},S=function(){t.style.cursor="pointer",f(t,"mousedown",k),f(v||n,"load resize scroll",j),o.interval>0&&setInterval(function(){return j()},o.interval),j()};return S(),{redraw:j}}}).call(e,function(){return this}())}])});